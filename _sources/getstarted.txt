.. meta::
   :description: Get started with the Medical Image Registration ToolKit (MIRTK)
   :keywords:    image processing, image registration, IRTK, MIRTK, intro, quick start

===========
Get Started
===========

Install the software
--------------------

Before you can start using the MIRTK or develop your own MIRTK applications,
you have to install the desired modules and available applications on your
system including their prerequisites. For a manual installation of the MIRTK,
please follow the :doc:`download` and :doc:`install` instructions which
list the third-party libraries required by each module and describe how to
build the MIRTK from its publicly available source code.

Instead of manually building and installing the MIRTK, you can use the
pre-made `biomedia/mirtk <MIRTK Docker image>`_ Docker image to run the
:doc:`commands` inside a `Docker container`_. For a guide to install and use
Docker_, see the `official docs <https://docs.docker.com>`__.


Run the commands
----------------

The MIRTK installs a single executable named ``mirtk`` in the ``bin/`` directory
of the installation root directory. This executable is used to execute the various
MIRTK commands. The name of the command must be specified as first argument of the
``mirtk`` executable. Help about a command can be printed using the special ``help``
or ``help-rst`` commands followed by the name of the command for which help is requested.

Usage::

    mirtk help <command>
    mirtk [-v] [-v] <command> [options]

When the ``-v`` option is given to ``mirtk`` before the command name, the path and
arguments of the command executable is printed before execution.

.. note::

   The MIRTK installation includes a `Bash <https://www.gnu.org/software/bash/>`__
   completions script which enables auto-completion of the available MIRTK commands.
   See :ref:`InstallationSteps` on how to activate auto-completion. When enabled, press the
   <tab> key twice after typing "mirtk " (incl. a space) to see a list of all commands.
   To only see a list of partial matches type, for example, "mirtk eval" and press <tab> twice.

With Docker_, use the following command instead of ``mirtk``::

    docker run --rm --volume=<path>:/data biomedia/mirtk [-v] [-v] <command> [<options>]

This will automatically download the `MIRTK Docker image`_ upon first execution and re-use
this image for consecutive commands. The ``--volume`` option of ``docker run`` mounts the
specified directory path on the host system to the ``/data`` directory inside the MIRTK
Docker container. This local data directory is the working directory of the MIRTK command.
The ``--rm`` option automatically deletes the MIRTK Docker container again after the
command finished. Note that each ``docker run`` will create a new Docker container.
As these containers are meant to be used only once for each command execution, they
should be removed again after the command has finished.

For example, to print information about the NIfTI image file ``/path/to/my/images/image1.nii.gz``
using the :doc:`commands/info` command, execute the Docker command::

    docker run --rm --volume=/path/to/my/images:/data biomedia/mirtk info image1.nii.gz

See the :doc:`commands` page for a description of each command and the available options.


Write your own application
--------------------------

For writing your own MIRTK command or an application which uses the MIRTK libraries,
we recommend a look at the source code of the applications included in the MIRTK.
The :doc:`API Reference <apidoc>` generated by Doxygen_ provides a more detailed
overview of the available MIRTK classes and their interfaces.

If you intend to contribute your applications in the future to the MIRTK distribution,
see the `code contribution <https://github.com/BioMedIA/MIRTK/blob/master/CONTRIBUTING.md>`__
guidelines for more information on how to contribute your code to the MIRTK source tree
or develop your own MIRTK Package.


.. _Doxygen:            http://www.doxygen.org/
.. _Docker:             http://www.docker.com
.. _Docker container:   https://www.docker.com/what-docker
.. _MIRTK Docker image: https://hub.docker.com/r/biomedia/mirtk/
